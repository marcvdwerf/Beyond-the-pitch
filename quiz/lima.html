import React, { useState } from 'react';
import { Trophy, Star, Heart, Flame, ArrowRight, CheckCircle2, XCircle, Globe, BookOpen } from 'lucide-react';

const QuizApp = () => {
  const [currentStep, setCurrentStep] = useState('intro');
  const [currentQuestion, setCurrentQuestion] = useState(0);
  const [answers, setAnswers] = useState({});
  const [score, setScore] = useState(0);
  const [showFeedback, setShowFeedback] = useState(false);
  const [selectedAnswer, setSelectedAnswer] = useState(null);
  const [language, setLanguage] = useState('es'); // 'es' or 'en'

  const translations = {
    es: {
      title: 'ALIANZA LIMA',
      subtitle: 'Trivia Challenge',
      tagline: 'Â¿QuÃ© tanto sabes sobre los Ãntimos?',
      questions: 'Preguntas',
      points: 'Puntos',
      perAnswer: 'Por respuesta',
      duration: 'DuraciÃ³n',
      startQuiz: 'Â¡Empezar el Quiz!',
      question: 'Pregunta',
      of: 'de',
      yourScore: 'Tu puntuaciÃ³n final:',
      step: 'Paso',
      next: 'Siguiente',
      finish: 'Finalizar',
      thanks: 'Â¡Gracias',
      contactSoon: 'Te contactaremos pronto con experiencias exclusivas de Alianza Lima.',
      readMore: 'Leer mÃ¡s',
      continue: 'Continuar',
      correct: 'Â¡Correcto!',
      interesting: 'Â¡Interesante!',
      scoreMessages: {
        perfect: 'Â¡Perfecto! Eres un verdadero Ãntimo ðŸ’™',
        great: 'Â¡Excelente! Conoces bien al club ðŸ‘',
        good: 'Â¡Bien! Pero puedes aprender mÃ¡s ðŸ“–',
        learn: 'Â¡Sigue aprendiendo sobre los Blanquiazules! ðŸ’ª'
      }
    },
    en: {
      title: 'ALIANZA LIMA',
      subtitle: 'Trivia Challenge',
      tagline: 'How much do you know about Los Ãntimos?',
      questions: 'Questions',
      points: 'Points',
      perAnswer: 'Per answer',
      duration: 'Duration',
      startQuiz: 'Start Quiz!',
      question: 'Question',
      of: 'of',
      yourScore: 'Your final score:',
      step: 'Step',
      next: 'Next',
      finish: 'Finish',
      thanks: 'Thank you',
      contactSoon: 'We will contact you soon with exclusive Alianza Lima experiences.',
      readMore: 'Read more',
      continue: 'Continue',
      correct: 'Correct!',
      interesting: 'Interesting!',
      scoreMessages: {
        perfect: 'Perfect! You are a true Ãntimo ðŸ’™',
        great: 'Excellent! You know the club well ðŸ‘',
        good: 'Good! But you can learn more ðŸ“–',
        learn: 'Keep learning about Los Blanquiazules! ðŸ’ª'
      }
    }
  };

  const t = translations[language];

  const triviaQuestions = [
    {
      question: {
        es: 'Â¿En quÃ© aÃ±o fue fundado Alianza Lima?',
        en: 'In what year was Alianza Lima founded?'
      },
      options: ['1901', '1905', '1910', '1915'],
      correct: '1901',
      image: 'https://images.unsplash.com/photo-1574629810360-7efbbe195018?w=800&q=80',
      shortFact: {
        es: 'Â¡Correcto! Alianza Lima fue fundado el 15 de febrero de 1901.',
        en: 'Correct! Alianza Lima was founded on February 15, 1901.'
      },
      longFact: {
        es: 'Alianza Lima fue fundado el 15 de febrero de 1901 en el barrio de La Victoria, Lima. Originalmente se llamaba "Sport Alianza" y fue creado por jÃ³venes trabajadores del barrio. El club adoptÃ³ los colores azul y blanco inspirados en la bandera de la carrera de caballos del hipÃ³dromo de Santa Beatriz. Desde entonces, se ha convertido en uno de los clubes mÃ¡s grandes y queridos del PerÃº, con una rica historia de 120+ aÃ±os.',
        en: 'Alianza Lima was founded on February 15, 1901 in the La Victoria neighborhood of Lima. Originally called "Sport Alianza," it was created by young workers from the neighborhood. The club adopted the blue and white colors inspired by the flag of the Santa Beatriz horse racing track. Since then, it has become one of the largest and most beloved clubs in Peru, with a rich history spanning 120+ years.'
      }
    },
    {
      question: {
        es: 'Â¿CuÃ¡l es el apodo mÃ¡s popular del club?',
        en: 'What is the most popular nickname of the club?'
      },
      options: [
        { es: 'Los Blanquiazules', en: 'Los Blanquiazules' },
        { es: 'Los Ãntimos', en: 'Los Ãntimos' },
        { es: 'Los Aliancistas', en: 'Los Aliancistas' },
        { es: 'Todos los anteriores', en: 'All of the above' }
      ],
      correct: language === 'es' ? 'Todos los anteriores' : 'All of the above',
      image: 'https://images.unsplash.com/photo-1522778119026-d647f0596c20?w=800&q=80',
      shortFact: {
        es: 'Â¡Exacto! El club tiene varios apodos cariÃ±osos.',
        en: 'Exactly! The club has several affectionate nicknames.'
      },
      longFact: {
        es: 'Alianza Lima es conocido por varios apodos: "Los Blanquiazules" por sus colores tradicionales azul y blanco; "Los Ãntimos" que surgiÃ³ en los aÃ±os 20 cuando el equipo jugaba en el estadio de la calle Ãntima; y "Los Aliancistas" que es como se llaman sus seguidores. Cada apodo representa una parte de la identidad e historia del club, mostrando la profunda conexiÃ³n emocional entre el equipo y sus hinchas.',
        en: 'Alianza Lima is known by several nicknames: "Los Blanquiazules" for their traditional blue and white colors; "Los Ãntimos" which emerged in the 1920s when the team played at the stadium on Ãntima street; and "Los Aliancistas" which is what their supporters call themselves. Each nickname represents a part of the club\'s identity and history, showing the deep emotional connection between the team and its fans.'
      }
    },
    {
      question: {
        es: 'Â¿CuÃ¡ntos tÃ­tulos nacionales ha ganado Alianza Lima?',
        en: 'How many national titles has Alianza Lima won?'
      },
      options: ['20', '23', '25', '28'],
      correct: '25',
      image: 'https://images.unsplash.com/photo-1586802746828-193b8eb37d0c?w=800&q=80',
      shortFact: {
        es: 'Â¡Correcto! 25 tÃ­tulos nacionales.',
        en: 'Correct! 25 national titles.'
      },
      longFact: {
        es: 'Alianza Lima ha conquistado 25 tÃ­tulos de la Liga Peruana, siendo el segundo club mÃ¡s exitoso del paÃ­s. Sus tÃ­tulos incluyen: 1927, 1928, 1931, 1932, 1933, 1948, 1952, 1954, 1955, 1962, 1963, 1965, 1975, 1977, 1978, 1997, 2001, 2003, 2004, 2006, 2017, 2019, 2021, 2022, y 2024. El club ha dominado diferentes Ã©pocas del fÃºtbol peruano y sigue siendo un gigante competitivo en el presente.',
        en: 'Alianza Lima has won 25 Peruvian League titles, making it the second most successful club in the country. Their titles include: 1927, 1928, 1931, 1932, 1933, 1948, 1952, 1954, 1955, 1962, 1963, 1965, 1975, 1977, 1978, 1997, 2001, 2003, 2004, 2006, 2017, 2019, 2021, 2022, and 2024. The club has dominated different eras of Peruvian football and remains a competitive giant today.'
      }
    },
    {
      question: {
        es: 'Â¿CÃ³mo se llama el estadio de Alianza Lima?',
        en: 'What is the name of Alianza Lima\'s stadium?'
      },
      options: [
        { es: 'Estadio Nacional', en: 'Estadio Nacional' },
        { es: 'Estadio Monumental', en: 'Estadio Monumental' },
        { es: 'Estadio Alejandro Villanueva', en: 'Estadio Alejandro Villanueva' },
        { es: 'Estadio San Marcos', en: 'Estadio San Marcos' }
      ],
      correct: 'Estadio Alejandro Villanueva',
      image: 'https://images.unsplash.com/photo-1522778526097-ce0a22ceb253?w=800&q=80',
      shortFact: {
        es: 'Â¡Perfecto! TambiÃ©n conocido como "Matute".',
        en: 'Perfect! Also known as "Matute".'
      },
      longFact: {
        es: 'El Estadio Alejandro Villanueva, cariÃ±osamente conocido como "Matute", es la casa de Alianza Lima desde 1974. El estadio lleva el nombre de Alejandro Villanueva, legendario jugador y mÃ¡ximo goleador histÃ³rico del club. Ubicado en el distrito de La Victoria, tiene una capacidad de aproximadamente 35,000 espectadores. El nombre "Matute" proviene del antiguo nombre de la calle donde se encuentra. Es considerado uno de los estadios con mejor ambiente del PerÃº.',
        en: 'The Alejandro Villanueva Stadium, affectionately known as "Matute", has been Alianza Lima\'s home since 1974. The stadium is named after Alejandro Villanueva, legendary player and all-time leading scorer of the club. Located in the La Victoria district, it has a capacity of approximately 35,000 spectators. The name "Matute" comes from the old name of the street where it is located. It is considered one of the stadiums with the best atmosphere in Peru.'
      }
    },
    {
      question: {
        es: 'Â¿QuiÃ©n es considerado el mÃ¡ximo Ã­dolo de Alianza Lima?',
        en: 'Who is considered the greatest idol of Alianza Lima?'
      },
      options: ['TeÃ³filo Cubillas', 'Jefferson FarfÃ¡n', 'Waldir SÃ¡enz', 'Paolo Guerrero'],
      correct: 'TeÃ³filo Cubillas',
      image: 'https://images.unsplash.com/photo-1579952363873-27f3bade9f55?w=800&q=80',
      shortFact: {
        es: 'Â¡Correcto! "Nene" Cubillas es una leyenda.',
        en: 'Correct! "Nene" Cubillas is a legend.'
      },
      longFact: {
        es: 'TeÃ³filo Cubillas, apodado "El Nene", es considerado el mÃ¡ximo Ã­dolo de Alianza Lima y uno de los mejores futbolistas peruanos de todos los tiempos. JugÃ³ en Alianza Lima en dos periodos (1966-1973 y 1984-1987), ganando mÃºltiples tÃ­tulos. Fue dos veces ganador de la Bota de Oro en Copas del Mundo (1970 y 1978). Su elegancia, tÃ©cnica y capacidad goleadora lo convirtieron en una leyenda viviente del fÃºtbol peruano. Hasta el dÃ­a de hoy, es venerado por los hinchas blanquiazules.',
        en: 'TeÃ³filo Cubillas, nicknamed "El Nene", is considered the greatest idol of Alianza Lima and one of the best Peruvian footballers of all time. He played for Alianza Lima in two periods (1966-1973 and 1984-1987), winning multiple titles. He was a two-time Golden Boot winner at World Cups (1970 and 1978). His elegance, technique and scoring ability made him a living legend of Peruvian football. To this day, he is revered by blanquiazul fans.'
      }
    },
    {
      question: {
        es: 'Â¿CuÃ¡l es el clÃ¡sico rival de Alianza Lima?',
        en: 'Who is the classic rival of Alianza Lima?'
      },
      options: ['Sporting Cristal', 'Universitario', 'Melgar', 'Cienciano'],
      correct: 'Universitario',
      image: 'https://images.unsplash.com/photo-1489944440615-453fc2b6a9a9?w=800&q=80',
      shortFact: {
        es: 'Â¡Exacto! El clÃ¡sico del fÃºtbol peruano.',
        en: 'Exactly! The classic of Peruvian football.'
      },
      longFact: {
        es: 'El ClÃ¡sico del FÃºtbol Peruano entre Alianza Lima y Universitario de Deportes es uno de los derbis mÃ¡s apasionantes de SudamÃ©rica. Esta rivalidad histÃ³rica, que data de principios del siglo XX, divide a todo el PerÃº. Los partidos entre ambos equipos paralizan al paÃ­s y generan una intensidad Ãºnica. Alianza representa tradicionalmente a la clase trabajadora de La Victoria, mientras que Universitario estÃ¡ asociado con la universidad. Esta diferencia social ha intensificado la rivalidad a lo largo de las dÃ©cadas.',
        en: 'The Classic of Peruvian Football between Alianza Lima and Universitario de Deportes is one of the most passionate derbies in South America. This historic rivalry, dating back to the early 20th century, divides all of Peru. Matches between both teams paralyze the country and generate unique intensity. Alianza traditionally represents the working class of La Victoria, while Universitario is associated with the university. This social difference has intensified the rivalry over the decades.'
      }
    }
  ];

  const contactQuestions = [
    {
      id: 'name',
      type: 'text',
      question: { es: 'Â¿CuÃ¡l es tu nombre?', en: 'What is your name?' },
      placeholder: { es: 'Tu nombre...', en: 'Your name...' }
    },
    {
      id: 'email',
      type: 'email',
      question: { es: 'Â¿CuÃ¡l es tu correo electrÃ³nico?', en: 'What is your email?' },
      placeholder: { es: 'tu@email.com', en: 'your@email.com' }
    },
    {
      id: 'location',
      type: 'choice',
      question: { es: 'Â¿DÃ³nde vives?', en: 'Where do you live?' },
      options: {
        es: ['Lima', 'Otra ciudad de PerÃº', 'PaÃ­ses Bajos', 'Otro paÃ­s'],
        en: ['Lima', 'Other city in Peru', 'Netherlands', 'Other country']
      }
    },
    {
      id: 'interest',
      type: 'choice',
      question: { es: 'Â¿QuÃ© te gustarÃ­a recibir?', en: 'What would you like to receive?' },
      options: {
        es: [
          'Experiencias VIP',
          'Noticias exclusivas',
          'Ofertas especiales',
          'Eventos para fans',
          'Todo lo anterior'
        ],
        en: [
          'VIP Experiences',
          'Exclusive news',
          'Special offers',
          'Fan events',
          'All of the above'
        ]
      }
    }
  ];

  const handleTriviaAnswer = (answer) => {
    setSelectedAnswer(answer);
    setShowFeedback('short');
    
    const correctAnswer = triviaQuestions[currentQuestion].correct;
    if (answer === correctAnswer) {
      setScore(score + 1);
    }
  };

  const handleReadMore = () => {
    setShowFeedback('long');
  };

  const handleContinue = () => {
    if (currentQuestion < triviaQuestions.length - 1) {
      setCurrentQuestion(currentQuestion + 1);
      setShowFeedback(false);
      setSelectedAnswer(null);
    } else {
      setCurrentStep('contact');
      setCurrentQuestion(0);
    }
  };

  const handleContactAnswer = (field, value) => {
    setAnswers({ ...answers, [field]: value });
  };

  const handleContactNext = () => {
    if (currentQuestion < contactQuestions.length - 1) {
      setCurrentQuestion(currentQuestion + 1);
    } else {
      setCurrentStep('complete');
    }
  };

  if (currentStep === 'intro') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-slate-900 flex items-center justify-center p-4">
        <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 max-w-2xl w-full text-center relative">
          {/* Language Switcher */}
          <div className="absolute top-6 right-6 flex gap-2">
            <button
              onClick={() => setLanguage('es')}
              className={`px-4 py-2 rounded-lg font-semibold transition-all ${
                language === 'es'
                  ? 'bg-blue-600 text-white'
                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
              }`}
            >
              ES
            </button>
            <button
              onClick={() => setLanguage('en')}
              className={`px-4 py-2 rounded-lg font-semibold transition-all ${
                language === 'en'
                  ? 'bg-blue-600 text-white'
                  : 'bg-gray-100 text-gray-600 hover:bg-gray-200'
              }`}
            >
              EN
            </button>
          </div>

          <div className="mb-8">
            <div className="flex items-center justify-center gap-3 mb-6">
              <div className="w-20 h-20 bg-blue-600 rounded-full shadow-lg"></div>
              <div className="w-20 h-20 bg-white rounded-full shadow-lg border-4 border-blue-600"></div>
            </div>
            <h1 className="text-4xl md:text-5xl font-bold text-gray-900 mb-3">
              {t.title}
            </h1>
            <p className="text-xl text-blue-600 font-semibold mb-2">{t.subtitle}</p>
            <p className="text-gray-600">{t.tagline}</p>
          </div>

          <div className="bg-gradient-to-br from-blue-50 to-slate-50 rounded-2xl p-6 mb-8">
            <div className="grid grid-cols-3 gap-4 text-center">
              <div>
                <Trophy className="w-8 h-8 text-blue-600 mx-auto mb-2" />
                <p className="text-2xl font-bold text-gray-900">{triviaQuestions.length}</p>
                <p className="text-sm text-gray-600">{t.questions}</p>
              </div>
              <div>
                <Star className="w-8 h-8 text-yellow-500 mx-auto mb-2" />
                <p className="text-2xl font-bold text-gray-900">{t.points}</p>
                <p className="text-sm text-gray-600">{t.perAnswer}</p>
              </div>
              <div>
                <Flame className="w-8 h-8 text-orange-500 mx-auto mb-2" />
                <p className="text-2xl font-bold text-gray-900">3 min</p>
                <p className="text-sm text-gray-600">{t.duration}</p>
              </div>
            </div>
          </div>

          <button
            onClick={() => setCurrentStep('trivia')}
            className="bg-gradient-to-r from-blue-600 to-blue-800 text-white px-12 py-5 rounded-2xl font-bold text-lg hover:shadow-xl hover:scale-105 transition-all duration-200 flex items-center gap-3 mx-auto"
          >
            {t.startQuiz}
            <ArrowRight className="w-6 h-6" />
          </button>

          <p className="text-sm text-gray-500 mt-6">
            Beyond the Pitch Experience
          </p>
        </div>
      </div>
    );
  }

  if (currentStep === 'trivia') {
    const q = triviaQuestions[currentQuestion];
    const isCorrect = selectedAnswer === q.correct;
    const progress = ((currentQuestion + 1) / triviaQuestions.length) * 100;

    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-slate-900 flex items-center justify-center p-4">
        <div className="max-w-4xl w-full">
          {/* Header */}
          <div className="flex justify-between items-center mb-6">
            <div className="flex items-center gap-3">
              <div className="w-12 h-12 bg-blue-600 rounded-full"></div>
              <div className="w-12 h-12 bg-white rounded-full border-4 border-blue-600"></div>
            </div>
            <div className="flex gap-3">
              <div className="bg-white/20 backdrop-blur-sm rounded-2xl px-4 py-2">
                <Globe className="w-5 h-5 text-white inline mr-2" />
                <button
                  onClick={() => setLanguage(language === 'es' ? 'en' : 'es')}
                  className="text-white font-bold text-sm"
                >
                  {language.toUpperCase()}
                </button>
              </div>
              <div className="bg-white/20 backdrop-blur-sm rounded-2xl px-6 py-3 flex items-center gap-2">
                <Star className="w-6 h-6 text-yellow-400" />
                <span className="text-white font-bold text-xl">{score}/{triviaQuestions.length}</span>
              </div>
            </div>
          </div>

          {/* Progress */}
          <div className="mb-8">
            <div className="flex justify-between items-center mb-2">
              <span className="text-sm font-medium text-white">
                {t.question} {currentQuestion + 1} {t.of} {triviaQuestions.length}
              </span>
              <span className="text-sm font-medium text-white">
                {Math.round(progress)}%
              </span>
            </div>
            <div className="h-3 bg-white/20 rounded-full overflow-hidden">
              <div 
                className="h-full bg-gradient-to-r from-blue-400 to-white transition-all duration-500"
                style={{ width: `${progress}%` }}
              />
            </div>
          </div>

          {/* Question Card with Image */}
          <div className="bg-white rounded-3xl shadow-2xl overflow-hidden">
            {/* Image Header */}
            <div className="h-64 bg-gradient-to-br from-blue-600 to-blue-800 relative overflow-hidden">
              <img 
                src={q.image} 
                alt="Question visual"
                className="w-full h-full object-cover opacity-50"
              />
              <div className="absolute inset-0 flex items-center justify-center">
                <div className="bg-white/90 backdrop-blur-sm rounded-2xl px-8 py-4">
                  <p className="text-2xl md:text-3xl font-bold text-gray-900 text-center">
                    {q.question[language]}
                  </p>
                </div>
              </div>
            </div>

            <div className="p-8 md:p-12">
              <div className="space-y-3 mb-6">
                {q.options.map((option, index) => {
                  const optionText = typeof option === 'object' ? option[language] : option;
                  const isSelected = selectedAnswer === optionText;
                  const isCorrectOption = optionText === q.correct;
                  const showCorrect = showFeedback && isCorrectOption;
                  const showWrong = showFeedback && isSelected && !isCorrect;

                  return (
                    <button
                      key={index}
                      onClick={() => !showFeedback && handleTriviaAnswer(optionText)}
                      disabled={showFeedback}
                      className={`w-full px-6 py-4 text-left text-lg rounded-2xl border-2 transition-all duration-200 ${
                        showCorrect
                          ? 'border-green-500 bg-green-50 text-green-900 font-semibold'
                          : showWrong
                          ? 'border-red-500 bg-red-50 text-red-900'
                          : isSelected
                          ? 'border-blue-600 bg-blue-50 text-blue-900 font-semibold'
                          : 'border-gray-200 hover:border-blue-400 hover:bg-blue-50/50 text-gray-700'
                      } ${showFeedback ? 'cursor-not-allowed' : 'hover:shadow-md'}`}
                    >
                      <div className="flex items-center justify-between">
                        <span>{optionText}</span>
                        {showCorrect && <CheckCircle2 className="w-6 h-6 text-green-600" />}
                        {showWrong && <XCircle className="w-6 h-6 text-red-600" />}
                      </div>
                    </button>
                  );
                })}
              </div>

              {showFeedback === 'short' && (
                <div className={`p-6 rounded-2xl ${
                  isCorrect ? 'bg-green-50 border-2 border-green-200' : 'bg-blue-50 border-2 border-blue-200'
                }`}>
                  <p className={`font-semibold mb-2 text-lg ${isCorrect ? 'text-green-900' : 'text-blue-900'}`}>
                    {isCorrect ? `${t.correct} ðŸŽ‰` : `${t.interesting} ðŸ“š`}
                  </p>
                  <p className={`mb-4 ${isCorrect ? 'text-green-800' : 'text-blue-800'}`}>
                    {q.shortFact[language]}
                  </p>
                  <div className="flex gap-3">
                    <button
                      onClick={handleReadMore}
                      className="flex-1 bg-white border-2 border-gray-300 text-gray-700 px-6 py-3 rounded-xl font-semibold hover:bg-gray-50 transition-all flex items-center justify-center gap-2"
                    >
                      <BookOpen className="w-5 h-5" />
                      {t.readMore}
                    </button>
                    <button
                      onClick={handleContinue}
                      className="flex-1 bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2"
                    >
                      {t.continue}
                      <ArrowRight className="w-5 h-5" />
                    </button>
                  </div>
                </div>
              )}

              {showFeedback === 'long' && (
                <div className="bg-gradient-to-br from-blue-50 to-slate-50 p-6 rounded-2xl border-2 border-blue-200">
                  <div className="flex items-start gap-3 mb-4">
                    <BookOpen className="w-6 h-6 text-blue-600 mt-1 flex-shrink-0" />
                    <div>
                      <p className="text-gray-800 leading-relaxed">
                        {q.longFact[language]}
                      </p>
                    </div>
                  </div>
                  <button
                    onClick={handleContinue}
                    className="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all flex items-center justify-center gap-2"
                  >
                    {t.continue}
                    <ArrowRight className="w-5 h-5" />
                  </button>
                </div>
              )}
            </div>
          </div>
        </div>
      </div>
    );
  }

  if (currentStep === 'contact') {
    const q = contactQuestions[currentQuestion];
    const progress = ((currentQuestion + 1) / contactQuestions.length) * 100;

    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-slate-900 flex items-center justify-center p-4">
        <div className="max-w-3xl w-full">
          {/* Score Display */}
          <div className="bg-white/20 backdrop-blur-sm rounded-2xl p-6 mb-8 text-center">
            <p className="text-white text-lg mb-2">{t.yourScore}</p>
            <div className="flex items-center justify-center gap-3">
              <Trophy className="w-8 h-8 text-yellow-400" />
              <span className="text-5xl font-bold text-white">{score}/{triviaQuestions.length}</span>
            </div>
            <p className="text-blue-200 mt-2">
              {score === triviaQuestions.length ? t.scoreMessages.perfect :
               score >= triviaQuestions.length * 0.7 ? t.scoreMessages.great :
               score >= triviaQuestions.length * 0.5 ? t.scoreMessages.good :
               t.scoreMessages.learn}
            </p>
          </div>

          {/* Progress */}
          <div className="mb-8">
            <div className="flex justify-between items-center mb-2">
              <span className="text-sm font-medium text-white">
                {t.step} {currentQuestion + 1} {t.of} {contactQuestions.length}
              </span>
              <span className="text-sm font-medium text-white">
                {Math.round(progress)}%
              </span>
            </div>
            <div className="h-3 bg-white/20 rounded-full overflow-hidden">
              <div 
                className="h-full bg-gradient-to-r from-blue-400 to-white transition-all duration-500"
                style={{ width: `${progress}%` }}
              />
            </div>
          </div>

          {/* Contact Form */}
          <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12">
            <h2 className="text-3xl md:text-4xl font-bold text-gray-900 mb-8">
              {q.question[language]}
            </h2>

            {q.type === 'text' || q.type === 'email' ? (
              <div className="mb-8">
                <input
                  type={q.type}
                  value={answers[q.id] || ''}
                  onChange={(e) => handleContactAnswer(q.id, e.target.value)}
                  placeholder={q.placeholder[language]}
                  className="w-full px-6 py-4 text-lg border-2 border-gray-200 rounded-2xl focus:border-blue-600 focus:outline-none transition-all"
                  autoFocus
                />
              </div>
            ) : (
              <div className="space-y-3 mb-8">
                {q.options[language].map((option, index) => (
                  <button
                    key={index}
                    onClick={() => handleContactAnswer(q.id, option)}
                    className={`w-full px-6 py-4 text-left text-lg rounded-2xl border-2 transition-all ${
                      answers[q.id] === option
                        ? 'border-blue-600 bg-blue-50 text-blue-900 font-semibold'
                        : 'border-gray-200 hover:border-blue-400 hover:bg-blue-50/50 text-gray-700'
                    }`}
                  >
                    {option}
                  </button>
                ))}
              </div>
            )}

            <button
              onClick={handleContactNext}
              disabled={!answers[q.id]}
              className="w-full bg-gradient-to-r from-blue-600 to-blue-800 text-white px-8 py-4 rounded-2xl font-semibold disabled:opacity-50 disabled:cursor-not-allowed hover:shadow-xl transition-all flex items-center justify-center gap-2"
            >
              {currentQuestion === contactQuestions.length - 1 ? t.finish : t.next}
              <ArrowRight className="w-5 h-5" />
            </button>
          </div>
        </div>
      </div>
    );
  }

  if (currentStep === 'complete') {
    return (
      <div className="min-h-screen bg-gradient-to-br from-blue-900 via-blue-800 to-slate-900 flex items-center justify-center p-4">
        <div className="bg-white rounded-3xl shadow-2xl p-8 md:p-12 max-w-2xl w-full text-center">
          <div className="mb-8">
            <div className="w-24 h-24 bg-gradient-to-br from-blue-600 to-blue-800 rounded-full flex items-center justify-center mx-auto mb-6 shadow-xl">
              <Heart className="w-12 h-12 text-white" />
            </div>
            <h2 className="text-4xl font-bold text-gray-900 mb-4">
              {t.thanks}, {answers.name}!
            </h2>
            <p className="text-xl text-gray-600 mb-2">
              {t.yourScore} {score}/{triviaQuestions.length}
            </p>
          </div>

          <div className="bg-gradient-to-br from-blue-50 to-slate-50 rounded-2xl p-6 mb-6">
            <p className="text-gray-800 mb-4">
              {t.contactSoon}
            </p>
            <div className="flex items-center justify-center gap-3 mb-4">
              <div className="w-16 h-16 bg-blue-600 rounded-full"></div>
              <div className="w-16 h-16 bg-white rounded-full border-4 border-blue-600"></div>
            </div>
            <p className="text-sm font-semibold text-blue-900">
              BEYOND THE PITCH Ã— ALIANZA LIMA
            </p>
          </div>

          <p className="text-sm text-gray-500">
            {language === 'es' 
              ? 'Llevando la pasiÃ³n mÃ¡s allÃ¡ del campo ðŸ’™âšª' 
              : 'Taking passion beyond the pitch ðŸ’™âšª'}
          </p>
        </div>
      </div>
    );
  }

  return null;
};

export default QuizApp
